<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Setting Up Creative Labs USB DAC Volume Knob On Linux</title>
    <meta name="description" content="Lately I bought a Creative Labs SB1095, a 5.1 USB DAC for my laptop.This USB sound card works perfectly on Linux.The sound quality is better than the integra...">

    <link rel="stylesheet" href="/css/main.css">
    <link rel="canonical" href="/blog/2017/sb1095-volume-knob-linux/">
    <link rel="alternate" type="application/rss+xml" title="LAHIRU SANDARUWAN PATHIRAGE" href="/feed.xml" />

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/angular-material/1.1.3/angular-material.min.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Cantarell|Oxygen+Mono" rel="stylesheet">

    <script src="https://code.jquery.com/jquery-3.1.1.min.js" integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8=" crossorigin="anonymous"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.3/angular.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.3/angular-animate.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.3/angular-aria.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.3/angular-messages.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular-material/1.1.3/angular-material.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/angular-material-icons/0.7.1/angular-material-icons.min.js"></script>


    <script>
        var ngModule = angular.module('ngModule', ['ngAria', 'ngAnimate', 'ngMaterial', 'ngMessages', 'ngMdIcons']);

        ngModule.controller("ngController", function () {

        }).config(function($mdThemingProvider) {
            $mdThemingProvider.theme('customTheme')
                    .primaryPalette('red')
                    .accentPalette('red')
                    .warnPalette('red');
        });
    </script>
</head>


  <body ng-app="ngModule" ng-controller="ngController" ng-cloak>
  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', '', 'auto');
  ga('send', 'pageview');
</script>


  <div>
    <div class="site-wrapper">
      <div class="site-header">
        <div class="site-header-properties" layout="row">

  <div class="md-menu-properties" layout="column" flex="10">
    <div flex></div>

    <md-menu class="md-toolbar-tools">

      <md-button class="md-fab md-fab-top-left" aria-label="nav-menu" ng-click="$mdMenu.open()">
        <md-tooltip md-direction="right">Menu</md-tooltip>
        <md-icon>dehaze</md-icon>
      </md-button>

      <md-menu-content>
        <md-menu-item>
          <md-button href="/index.html">
            Home
          </md-button>
        </md-menu-item>

        
        <md-menu-item>
          <md-button href="/projects">
            Projects
          </md-button>
        </md-menu-item>
        
        <md-menu-item>
          <md-button href="/blog">
            Blog
          </md-button>
        </md-menu-item>
        
      </md-menu-content>

    </md-menu>

    <div flex></div>
  </div>

  <div flex="85">
    <md-tooltip>Home</md-tooltip>
    <div class="site-header-text">
      <a href="/index.html">
        <h1>
          LAHIRU SANDARUWAN PATHIRAGE
        </h1>
        <div class="site-description">
          SOFTWARE ENGINEER - LINUX ENTHUSIAST - OPEN SOURCE CONTRIBUTOR
        </div>
      </a>
    </div>
  </div>

  <div>
    <div>
      <ul class="social">
  <li><a href="http://github.com/lpsandaruwan" target="_blank">
    <span class="icon icon--github"><?xml version="1.0" encoding="utf-8"?>
<!-- Generator: Adobe Illustrator 17.1.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg version="1.1" id="Github" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
	 viewBox="0 0 128 128" enable-background="new 0 0 128 128" xml:space="preserve">
<g>
	<circle id="github-back" fill="#262626" cx="64" cy="64" r="64"/>
	<g id="github-github">
		<path fill-rule="evenodd" clip-rule="evenodd" fill="#FFFFFF" d="M64,29.0449c-19.791,0-35.8398,16.0449-35.8398,35.8399
			c0,15.8349,10.2695,29.2695,24.5097,34.0088c1.791,0.331,2.4492-0.7784,2.4492-1.7247c0-0.8544-0.0332-3.6777-0.0488-6.6728
			c-9.9707,2.168-12.0752-4.2285-12.0752-4.2285c-1.6299-4.1426-3.9795-5.2451-3.9795-5.2451
			c-3.2519-2.2237,0.2456-2.1778,0.2456-2.1778c3.5982,0.253,5.4937,3.6953,5.4937,3.6953
			c3.1963,5.4776,8.3847,3.8936,10.4297,2.9776c0.3222-2.3164,1.2509-3.8975,2.2754-4.793
			c-7.96-0.9053-16.3291-3.9785-16.3291-17.7119c0-3.9126,1.4004-7.1104,3.6933-9.6196c-0.3721-0.9034-1.5996-4.5484,0.3477-9.4854
			c0,0,3.0088-0.9624,9.8574,3.6743c2.8594-0.7939,5.9258-1.1924,8.9707-1.206c3.0459,0.0136,6.1143,0.4121,8.9785,1.206
			c6.8408-4.6367,9.8467-3.6743,9.8467-3.6743c1.9502,4.937,0.7236,8.582,0.3516,9.4854c2.2978,2.5092,3.6884,5.707,3.6884,9.6196
			c0,13.7666-8.3847,16.7959-16.3652,17.6846c1.2852,1.1113,2.4297,3.2929,2.4297,6.6367c0,4.7949-0.0401,8.6543-0.0401,9.8349
			c0,0.9541,0.6456,2.0713,2.4629,1.7198c14.2315-4.7442,24.4883-18.1739,24.4883-34.0039
			C99.8408,45.0898,83.7939,29.0449,64,29.0449z"/>
		<path fill="#FFFFFF" d="M41.7354,80.5029c-0.0791,0.1787-0.3594,0.2315-0.6153,0.1104c-0.2597-0.1172-0.4057-0.3604-0.3213-0.5391
			c0.0772-0.1836,0.3575-0.2344,0.6172-0.1113C41.6768,80.0801,41.8247,80.3242,41.7354,80.5029L41.7354,80.5029z M41.2939,80.1758"
			/>
		<path fill="#FFFFFF" d="M43.1865,82.123c-0.1709,0.1583-0.5049,0.084-0.7314-0.166c-0.2354-0.25-0.2788-0.584-0.1055-0.7461
			c0.1768-0.1562,0.5-0.083,0.7354,0.167C43.3193,81.6309,43.3652,81.9619,43.1865,82.123L43.1865,82.123z M42.8447,81.7559"/>
		<path fill="#FFFFFF" d="M44.5996,84.1865c-0.2197,0.1533-0.5791,0.0088-0.8008-0.3095c-0.2197-0.3184-0.2197-0.7012,0.0049-0.8545
			c0.2227-0.1524,0.5762-0.0147,0.8013,0.3017C44.8242,83.6475,44.8242,84.0303,44.5996,84.1865L44.5996,84.1865z M44.5996,84.1865"
			/>
		<path fill="#FFFFFF" d="M46.5356,86.1797c-0.1967,0.2178-0.6147,0.1592-0.9213-0.1367c-0.3135-0.2881-0.4004-0.6992-0.2041-0.916
			c0.2002-0.2168,0.6211-0.1553,0.9287,0.1386C46.6504,85.5537,46.7451,85.9668,46.5356,86.1797L46.5356,86.1797z M46.5356,86.1797"
			/>
		<path fill="#FFFFFF" d="M49.2061,87.3389c-0.087,0.2802-0.4893,0.4072-0.8956,0.2881c-0.4052-0.1231-0.6699-0.4512-0.5888-0.7344
			c0.084-0.2832,0.4892-0.4151,0.8984-0.2881C49.0254,86.7266,49.29,87.0527,49.2061,87.3389L49.2061,87.3389z M49.2061,87.3389"/>
		<path fill="#FFFFFF" d="M52.1396,87.5527c0.0098,0.2959-0.3339,0.5411-0.7602,0.5469c-0.4282,0.0098-0.7759-0.2305-0.7798-0.5215
			c0-0.2978,0.3359-0.54,0.7647-0.5478C51.79,87.0225,52.1396,87.2598,52.1396,87.5527L52.1396,87.5527z M52.1396,87.5527"/>
		<path fill="#FFFFFF" d="M54.8691,87.0889c0.0508,0.2881-0.2451,0.5849-0.6679,0.6631c-0.417,0.0761-0.8018-0.1016-0.8545-0.3877
			c-0.0518-0.2959,0.25-0.5918,0.6645-0.669C54.4355,86.623,54.8154,86.7959,54.8691,87.0889L54.8691,87.0889z M54.8691,87.0889"/>
	</g>
</g>
</svg>
</span>
    <md-tooltip md-direction="top">http://github.com/lpsandaruwan</md-tooltip>
</a>
</li>
  <li><a href="http://linkedin.com/in/lpsandaruwan" target="_blank">
    <span class="icon icon--linkedin"><?xml version="1.0" encoding="utf-8"?>
<!-- Generator: Adobe Illustrator 17.1.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg version="1.1" id="Linkedin" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
	 viewBox="0 0 128 128" enable-background="new 0 0 128 128" xml:space="preserve">
<g>
	<circle id="linkedin-back" fill="#262626" cx="64" cy="64" r="64"/>
	<g id="linkedin-linkedin">
		<path fill="#FFFFFF" d="M29.0752,51.7471h14.8686V99.54H29.0752V51.7471z M36.5137,27.9893c4.7514,0,8.6084,3.8593,8.6084,8.6137
			c0,4.7554-3.857,8.6143-8.6084,8.6143c-4.7705,0-8.6172-3.8589-8.6172-8.6143C27.8965,31.8486,31.7432,27.9893,36.5137,27.9893"/>
		<path fill="#FFFFFF" d="M53.2622,51.7471H67.5v6.5337h0.2041c1.9805-3.7574,6.8272-7.7198,14.0537-7.7198
			c15.0391,0,17.8184,9.896,17.8184,22.7671V99.54H84.7246V76.2979c0-5.542-0.0957-12.6719-7.7187-12.6719
			c-7.7286,0-8.9082,6.04-8.9082,12.2754V99.54H53.2622V51.7471z"/>
	</g>
</g>
</svg>
</span>
    <md-tooltip md-direction="top">http://linkedin.com/in/lpsandaruwan</md-tooltip>
</a></li>
  <li><a href="http://twitter.com/lpsandaruwan" target="_blank">
    <span class="icon icon--twitter"><?xml version="1.0" encoding="utf-8"?>
<!-- Generator: Adobe Illustrator 17.1.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg version="1.1" id="Twitter" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
	 viewBox="0 0 128 128" enable-background="new 0 0 128 128" xml:space="preserve">
<g>
	<circle id="twitter-back" fill="#262626" cx="64" cy="64" r="64"/>
	<path id="twitter-twitter" fill="#FFFFFF" d="M99.8398,41.7695c-2.6367,1.17-5.4707,1.96-8.4462,2.3155
		c3.0351-1.8204,5.3681-4.7022,6.4658-8.1363c-2.8408,1.6851-5.9883,2.9097-9.3379,3.5689
		c-2.6826-2.8584-6.5049-4.6436-10.7344-4.6436c-8.123,0-14.7065,6.584-14.7065,14.7051c0,1.1533,0.1303,2.2754,0.3808,3.3516
		c-12.2221-0.6133-23.0581-6.4678-30.311-15.3648c-1.2661,2.1714-1.9912,4.6978-1.9912,7.3931c0,5.1015,2.5962,9.6025,6.542,12.2397
		c-2.4107-0.0757-4.6783-0.7378-6.6607-1.8393c-0.0014,0.0615-0.0014,0.123-0.0014,0.1855c0,7.125,5.0693,13.0684,11.7968,14.4199
		c-1.2343,0.336-2.5337,0.5157-3.8745,0.5157c-0.9477,0-1.8691-0.0928-2.7671-0.2637c1.8716,5.8418,7.3023,10.0937,13.7378,10.2119
		c-5.0332,3.9453-11.374,6.2959-18.2646,6.2959c-1.187,0-2.357-0.0693-3.5073-0.2051c6.5083,4.1729,14.2377,6.6065,22.5429,6.6065
		c27.0498,0,41.8418-22.4082,41.8418-41.8418c0-0.6377-0.0146-1.2715-0.0429-1.9024C95.375,47.3086,97.8691,44.7188,99.8398,41.7695
		z"/>
</g>
</svg>
</span>
    <md-tooltip md-direction="top">http://twitter.com/lpsandaruwan</md-tooltip>
</a>
</li>
  <li><a href="/feed.xml" target="_blank">
    <span class="icon icon--feed"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M12 0c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm-3.374 17c-.897 0-1.626-.727-1.626-1.624s.729-1.624 1.626-1.624 1.626.727 1.626 1.624-.729 1.624-1.626 1.624zm3.885 0c-.03-3.022-2.485-5.474-5.511-5.504v-2.406c4.361.03 7.889 3.555 7.92 7.91h-2.409zm4.081 0c-.016-5.297-4.303-9.571-9.592-9.594v-2.406c6.623.023 11.985 5.384 12 12h-2.408z"/></svg></span>
    <md-tooltip md-direction="top">feed</md-tooltip>
</a></li>
</ul>
    </div>
  </div>
</div>

      </div>

      <div class="site-content">
        <div class="inner-body">
          <div class="body-content">
            <article role="article" class="post">

  <div>
    <header class="post-header">
      <h1>Setting Up Creative Labs USB DAC Volume Knob On Linux</h1>
      <h4>Configure volume control knob of Creative SBS1095 USB sound card to adjust volume in Linux.</h4>
      <p>
        <span class="strong">Tags</span>: usb dac, creative labs, sb1095, linux, volume knob
      </p>
      <p class="post-meta">May 11, 2017 • Lahiru Pathirage</p>
    </header>

    <div class="bottom-padding-10"></div>

    <div class="post-content">
      <p>Lately I bought a <a href="http://us.creative.com/p/sound-blaster/sound-blaster-x-fi-surround-5-1-pro">Creative Labs SB1095</a>, a 5.1 USB DAC for my laptop.
This USB sound card works perfectly on Linux.
The sound quality is better than the integrated,
but it has a volume knob on it and a remote controller,
which does not support out of the box by Linux distributions which I have tried(Ubuntu, Linux Mint, OpenSuse, Arch Linux).
After digging up the internet a little bit I perceived that it is required to configure a software volume controller to handle the volume knob.
However, I did not want to go for that kind of advanced configurations, and finally found an easy workaround for this purpose. Would like to take down the steps,
so it might help others which have the same issue.</p>

<p>To achieve this I used lirc (an application which interprets IR actions) to detect volume knob and remote actions and wrapped it with irexec (trigger actions for lirc inputs) to change system sound volume.</p>

<p>I am currently using Linux Mint 18.1, so this solution will work perfectly with Ubuntu 16.04 derivatives.
For other Linux distributions please follow <a href="https://sites.google.com/site/klaasdc/runeaudio-creative-xfi-5-1-usb">this guide</a>.
<br /><br /></p>

<h4 id="requirements">Requirements</h4>
<p>First I installed these packages, selected Creative USB IR Receiver (SB0540) for remote controller configuration(not the SB1095,
but it has the same configurations) and selected none for IR transmitter in appearing configuration menus when installing.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span></span>sudo apt install lirc lirc-x</code></pre></figure>

<p><br /></p>

<h4 id="configurations">Configurations</h4>
<p>Then I changed the <code>REMOTE_DRIVER</code> in lirc hardware configuration file <code>/etc/lirc/hardware.conf</code>, left other settings unchanged.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span></span><span class="c1"># ~/.lircrc</span>
begin
 <span class="nv">remote</span> <span class="o">=</span> *
 <span class="nv">prog</span> <span class="o">=</span> irexec
 <span class="nv">config</span> <span class="o">=</span> amixer -D pulse sset Master <span class="m">5</span>%-
 <span class="nv">button</span> <span class="o">=</span> vol-
 <span class="nv">repeat</span> <span class="o">=</span> <span class="m">1</span>
end

begin
 <span class="nv">remote</span> <span class="o">=</span> *
 <span class="nv">prog</span> <span class="o">=</span> irexec
 <span class="nv">config</span> <span class="o">=</span> amixer -D pulse sset Master <span class="m">5</span>%+
 <span class="nv">button</span> <span class="o">=</span> vol+
 <span class="nv">repeat</span> <span class="o">=</span> <span class="m">1</span>
end

begin
 <span class="nv">remote</span> <span class="o">=</span> *
 <span class="nv">prog</span> <span class="o">=</span> irexec
 <span class="nv">config</span> <span class="o">=</span> amixer -D pulse sset Master <span class="m">0</span>
 <span class="nv">button</span> <span class="o">=</span> mute
end</code></pre></figure>

<p><br /></p>

<h4 id="test">Test</h4>
<p>Then I restarted lirc daemon and loaded irexec daemon.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span></span>sudo service lirc restart
irexec -d <span class="c1"># make a startup entry to load on system boot up</span></code></pre></figure>

<p>Now I have the volume knob working just fine.
<br />If the volume is not changing check whether lirc detects inputs by the USB device using the command <code>irw</code></p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span></span><span class="c1"># irw sample output for volume knob changes</span>
<span class="m">0000000000000010</span> <span class="m">01</span> vol+ RM-1500
<span class="m">0000000000000010</span> <span class="m">00</span> vol+ RM-1500
<span class="m">0000000000000010</span> <span class="m">01</span> vol+ RM-1500
000000000000000f <span class="m">03</span> vol- RM-1500
000000000000000f <span class="m">00</span> vol- RM-1500
000000000000000d <span class="m">00</span> mute RM-1500</code></pre></figure>

<p>If the output is something like the above, try changing config values(commands to change sound volume) in the <code>~/.lircrc</code> after that try restarting lirc daemon and loading <code>irexec</code> again.
<br /></p>

<h5 id="sources">Sources</h5>
<p><a href="http://alsa.opensrc.org/Usb-audio#Creative_USB_X-Fi_Surround_5.1">http://alsa.opensrc.org/Usb-audio#Creative_USB_X-Fi_Surround_5.1</a>
<br /><a href="http://www.lirc.org/html/configure.html">http://www.lirc.org/html/configure.html</a>
<br /><br /><br /></p>

<p><a rel="license" href="http://creativecommons.org/licenses/by/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by/4.0/88x31.png" /></a><br /><span xmlns:dct="http://purl.org/dc/terms/" property="dct:title">Setting Up Creative Labs USB DAC Volume Knob On Linux</span> by <span xmlns:cc="http://creativecommons.org/ns#" property="cc:attributionName">Lahiru Pathirage</span> is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a>.</p>

    </div>

    
<hr>

<aside id="comments" class="disqus">
  <div class="container">
    <h3><i class="icon icon-comments-o"></i> Comments</h3>
    <div id="disqus_thread"></div>
    <script>
      var disqus_config = function() {
        this.page.url = '';
        this.page.identifier = '/blog/2017/sb1095-volume-knob-linux';
      };
      (function() {
        var d = document,
        s = d.createElement('script');
        s.src = '//lpsandaruwan.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
      })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
  </div>
</aside>

  </div>

</article>

          </div>
        </div>

        <br>
        <div>
  <div class="footer-contents">
    <ul layout-xs="column" layout="row">
      <li class="footer-section" flex-gt-xs="45">
        <br>
        <div class="header-background">
          <h4>ABOUT ME</h4>
        </div>

        <p>
          I am a software developer from Colombo, Sri Lanka who believes in following good design and good engineering aspects when developing software thus they play the major role when bringing high-quality software products into reality. I have been working professionally in software engineering since 2015.
        </p>

        <br>
      </li>

      <li flex-gt-xs="10"></li>

      <li class="footer-section" flex-gt-xs="45">
        <br>
        <div class="header-background">
          <h4>CONTACT ME</h4>
        </div>

        <div>
          <p>
            <a href="mailto:lpsandaruwan@gmail.com">
              <md-icon>contact_mail</md-icon>
              &nbsp;lpsandaruwan@gmail.com
            </a>
          </p>
        </div>

        <div>
          <p>
            <md-icon>group_add</md-icon>
            &nbsp;telegram: lpsandaruwan
          </p>
        </div>
        <br>
      </li>
    </ul>
    <div class="footer-bar">
      <p>© Copyright 2017 Lahiru Sandaruwan Pathirage. Powered by Jekyll. All Rights Reserved.</p>
    </div>
  </div>
</div>

      </div>

    </div>


  </div>
  </body>
</html>
